{"ast":null,"code":"var _jsxFileName = \"C:\\\\Saumya\\\\Projects\\\\Agri\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { BrowserRouter as Router, Routes, Route, useParams, Navigate, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from 'react'; // import { Alert } from 'react-alert'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    type\n  } = useParams(); //const [userName, setUserName] = useState('');\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState(''); //const [submitted, setSubmitted] = useState(false);\n  //const [state, setState] = useState('')\n  //const [user, setUser] = useState([]);\n\n  const [user, setUser] = useState({\n    _id: '',\n    userName: \"\",\n    email: \"\",\n    password: \"\",\n    type: \"\"\n  });\n\n  const submit = async e => {\n    e.preventDefault(); // setSubmitted(true);\n    //console.log(userName);\n    //console.log(email);\n    //console.log(passward);\n\n    const userDetails = {\n      email: email,\n      password: password\n    };\n    await fetch('/api/user/login', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userDetails)\n    }) //.then(res => console.log(res[0]));\n    .then(res => res.json()).then(res => {\n      console.log(res[0]);\n      setUser(res[0]); // setUser(previousState => {\n      //   return { ...previousState, userName : userName,\n      //     email : email,\n      //     passward : passward, type:type }\n      // });\n      //setUserName(res[0].userName)\n    });\n    const {\n      _id,\n      userName,\n      email,\n      type\n    } = user;\n    console.log(\"user id:\" + _id);\n    console.log(\"uname:\" + userName);\n    console.log(\"uemail:\" + email); //console.log(user[0]);\n    // sessionStorage.setItem(\"userName\", userName);\n    // sessionStorage.setItem(\"email\", email);\n    // sessionStorage.setItem(\"passward\", passward);\n    // sessionStorage.setItem(\"userType\", type);\n    // not working\n    // {<Navigate replace to=\"/farmer\" />}\n\n    navigate('/farmer');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '50vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: submit,\n            children: \" Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            children: \" Register \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Login, \"O2onUi0pVcQ53H0/WB6wuwFqgZU=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Link","BrowserRouter","Router","Routes","Route","useParams","Navigate","useNavigate","useState","useEffect","Login","navigate","type","email","setEmail","password","setPassword","user","setUser","_id","userName","submit","e","preventDefault","userDetails","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","display","justifyContent","alignItems","height","target","value"],"sources":["C:/Saumya/Projects/Agri/client/src/pages/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { BrowserRouter as Router, Routes, Route, useParams, Navigate, useNavigate} from \"react-router-dom\";\r\nimport { useState, useEffect} from 'react';\r\n// import { Alert } from 'react-alert'\r\n\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const { type } = useParams();\r\n\r\n    //const [userName, setUserName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    //const [submitted, setSubmitted] = useState(false);\r\n    //const [state, setState] = useState('')\r\n    //const [user, setUser] = useState([]);\r\n    const [user,setUser] = useState({\r\n      _id:'',\r\n      userName: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      type: \"\"\r\n    });\r\n\r\n    const submit = async (e) => {\r\n        e.preventDefault();\r\n       // setSubmitted(true);\r\n        //console.log(userName);\r\n        //console.log(email);\r\n        //console.log(passward);\r\n        \r\n      const userDetails = {\r\n          email : email,\r\n          password : password,\r\n      }\r\n \r\n      await fetch('/api/user/login', {\r\n        method: 'POST',\r\n          headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(userDetails),\r\n          })\r\n          //.then(res => console.log(res[0]));\r\n          .then(res => res.json())\r\n            .then(res => {\r\n                console.log(res[0]);\r\n                setUser(res[0]); \r\n                // setUser(previousState => {\r\n                //   return { ...previousState, userName : userName,\r\n                //     email : email,\r\n                //     passward : passward, type:type }\r\n                // });\r\n                //setUserName(res[0].userName)\r\n            })\r\n          const {_id,userName ,email,type}=user;\r\n        console.log(\"user id:\"+_id); \r\n        console.log(\"uname:\"+ userName);\r\n        console.log(\"uemail:\"+email);\r\n        //console.log(user[0]);\r\n        \r\n        // sessionStorage.setItem(\"userName\", userName);\r\n        // sessionStorage.setItem(\"email\", email);\r\n        // sessionStorage.setItem(\"passward\", passward);\r\n        // sessionStorage.setItem(\"userType\", type);\r\n\r\n   \r\n\r\n        // not working\r\n        // {<Navigate replace to=\"/farmer\" />}\r\n        navigate('/farmer');\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n      <div  style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '50vh'}}>\r\n      <div >\r\n          \r\n      <form>\r\n        <div className=\"form-group\" >\r\n          <input type=\"text\"  className=\"input\"  placeholder=\"email\"  value={email}\r\n            onChange={e => setEmail(e.target.value)}/>\r\n        </div> <br></br>\r\n        <div className=\"form-group\">\r\n          <input type=\"text\" className=\"input\" placeholder=\"Password\" value={password}\r\n            onChange={e => setPassword(e.target.value)}/>\r\n        </div>\r\n        <br></br>\r\n        <div className=\"form-group\">\r\n          <button className=\"btn btn-primary\" onClick={submit}> Submit</button>\r\n          <button className=\"btn btn-danger\"> Register </button>\r\n        </div>\r\n      </form> \r\n\r\n\r\n    </div>\r\n  </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Login "],"mappings":"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"},"metadata":{},"sourceType":"module"}